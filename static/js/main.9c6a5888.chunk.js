(this["webpackJsonpsimple-notes-firebase"]=this["webpackJsonpsimple-notes-firebase"]||[]).push([[0],{73:function(e,t,n){},82:function(e,t,n){},84:function(e,t,n){},85:function(e,t,n){},86:function(e,t,n){},88:function(e,t,n){"use strict";n.r(t);var a=n(3),o=n(1),i=n(12),s=n.n(i),c=(n(73),n(28)),r=n(62),l=n(10),u=n(40),d=n(58),p=n(18),h={popup:!1,isLogin:!1,isLoading:!1,loginTimeOut:null,user:{},notes:[]},j=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1?arguments[1]:void 0;return"CHANGE_POPUP"===t.type?Object(p.a)(Object(p.a)({},e),{},{popup:t.value}):"CHANGE_ISLOGIN"===t.type?Object(p.a)(Object(p.a)({},e),{},{isLogin:t.value}):"CHANGE_USER"===t.type?Object(p.a)(Object(p.a)({},e),{},{user:t.value}):"CHANGE_LOADING"===t.type?Object(p.a)(Object(p.a)({},e),{},{isLoading:t.value}):"SET_NOTES"===t.type?Object(p.a)(Object(p.a)({},e),{},{notes:t.value}):"SET_LOGINTIMEOUT"===t.type?Object(p.a)(Object(p.a)({},e),{},{loginTimeOut:t.value}):e},g=Object(u.c)(j,Object(u.a)(d.a)),b=n(25),O=n(26),f=n(27),m=n(31),v=n(29),N=n(109),x=n(111),I=n(108),C=n(110),y=n(50);n(77),n(79);y.a.initializeApp({apiKey:"AIzaSyB4mP4ee0pimI9rqC1alaRgOXg7408piJ0",authDomain:"simple-notes-firebase-0001.firebaseapp.com",projectId:"simple-notes-firebase-0001",storageBucket:"simple-notes-firebase-0001.appspot.com",messagingSenderId:"229963835496",appId:"1:229963835496:web:387e0745b3c37b6303f3dd",measurementId:"G-X5ZWQX09N1"});var S=y.a.database(),A=y.a,w=(n(82),function(e){Object(m.a)(n,e);var t=Object(v.a)(n);function n(){var e;Object(O.a)(this,n);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={title:"",content:"",date:"",textButton:"SIMPAN",noteId:"",dialogDelete:!1,locDataDel:{}},e.handleSaveNotes=function(){var t=e.state,n=t.title,a=t.content,o=t.textButton,i=t.noteId,s=e.props,c=s.saveNotes,r=s.updateNotes,l=JSON.parse(localStorage.getItem("userData")),u={title:n,content:a,date:(new Date).getTime(),userId:l.uid};"SIMPAN"===o?u.title&&u.content?(c(u),e.setState({title:"",content:"",textButton:"SIMPAN"})):alert("please fill title and content"):(u.noteId=i,r(u)),e.setState({title:"",content:"",textButton:"SIMPAN"}),console.log("data",u)},e.onInputChange=function(t,n){e.setState(Object(b.a)({},n,t.target.value))},e.updateNotes=function(t){console.log("note=======",t),e.setState({title:t.data.title,content:t.data.content,textButton:"UPDATE",noteId:t.id})},e.cancelUpdate=function(){e.setState({title:"",content:"",textButton:"SIMPAN"})},e.deleteNote=function(t,n){(0,e.props.deleteNotes)({userId:JSON.parse(localStorage.getItem("userData")).uid,noteId:e.state.locDataDel.id}),e.handleClose(t)},e.handleClickOpen=function(t,n){t.stopPropagation(),e.setState({title:"",content:"",textButton:"SIMPAN"}),e.setState({dialogDelete:!0,locDataDel:n})},e.handleClose=function(t){t.stopPropagation(),e.setState({dialogDelete:!1})},e.btnLogout=function(){localStorage.removeItem("userData"),e.props.history.push("/login")},e}return Object(f.a)(n,[{key:"componentDidMount",value:function(){var e=JSON.parse(localStorage.getItem("userData"));e&&this.props.getNotes(e.uid)}},{key:"componentDidUpdate",value:function(){console.log("loginTimeOut@@@@@@",this.props.loginTimeOut)}},{key:"render",value:function(){var e=this,t=this.state,n=t.title,i=t.content,s=t.textButton,c=t.dialogDelete,r=this.props.notes,l=this.handleSaveNotes,u=this.updateNotes,d=this.cancelUpdate,p=this.deleteNote,h=this.handleClose,j=this.handleClickOpen,g=this.btnLogout;return console.log("notes=====:",r),Object(a.jsxs)("div",{className:"container",children:[Object(a.jsxs)("div",{className:"input-form",children:[Object(a.jsx)("input",{placeholder:"title",className:"input-title",value:n,onChange:function(t){return e.onInputChange(t,"title")}}),Object(a.jsx)("textarea",{placeholder:"content",className:"input-content",value:i,onChange:function(t){return e.onInputChange(t,"content")}}),Object(a.jsxs)("div",{className:"action-wrapper",children:["UPDATE"===s?Object(a.jsx)("button",{className:"save-btn cancel",onClick:function(){return d()},children:"CANCEL"}):Object(a.jsx)("div",{}),Object(a.jsx)("button",{className:"save-btn",onClick:function(){return l()},children:s})]}),Object(a.jsx)("button",{onClick:function(){return g()},children:"Logout"})]}),Object(a.jsx)("hr",{}),r.length>0?Object(a.jsx)(o.Fragment,{children:r.map((function(e){return Object(a.jsxs)("div",{className:"card-content",onClick:function(){return u(e)},children:[Object(a.jsx)("p",{className:"title",children:e.data.title}),Object(a.jsx)("p",{className:"data",children:e.data.date}),Object(a.jsx)("p",{className:"content",children:e.data.content}),Object(a.jsx)("div",{className:"delete-btn",onClick:function(t){return j(t,e)},children:"x"}),Object(a.jsxs)(N.a,{open:c,onClose:h,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(a.jsx)(x.a,{id:"alert-dialog-title",className:"alert-dialog",disableTypography:!0,children:"Apakah Anda yakin ingin menghapus data?"}),Object(a.jsxs)(I.a,{children:[Object(a.jsx)(C.a,{onClick:function(t){return h(t,e)},color:"primary",children:"BATAL"}),Object(a.jsx)(C.a,{onClick:function(t){return p(t,e)},color:"primary",autoFocus:!0,children:"IYA"})]})]})]},e.id)}))}):null]})}}]),n}(o.Component)),L=Object(c.b)((function(e){return{userData:e.user,notes:e.notes,loginTimeOut:e.loginTimeOut}}),(function(e){return{saveNotes:function(t){return e(function(e){return function(t){S.ref("notes/"+e.userId).push({title:e.title,content:e.content,date:e.date})}}(t))},getNotes:function(t){return e((n=t,function(e){var t=S.ref("notes/"+n);return new Promise((function(n,a){t.on("value",(function(t){console.log("get Data====:",t.val());var a=[];t.val()&&Object.keys(t.val()).map((function(e){return a.push({id:e,data:t.val()[e]})})),e({type:"SET_NOTES",value:a}),n(t.val())}))}))}));var n},updateNotes:function(t){return e(function(e){return function(t){var n=S.ref("notes/".concat(e.userId,"/").concat(e.noteId));return new Promise((function(t,a){n.set({title:e.title,content:e.content,date:e.date},(function(e){e?a(!1):t(!0)}))}))}}(t))},deleteNotes:function(t){return e(function(e){return function(t){var n=S.ref("notes/".concat(e.userId,"/").concat(e.noteId));return new Promise((function(e,t){n.remove()}))}}(t))}}}))(w),k=n(38),D=n.n(k),E=n(47),P=function(e){var t=e.title,n=e.onClick;return e.loading?Object(a.jsx)("button",{className:"btn disable",children:"Loading..."}):Object(a.jsx)("button",{className:"btn",onClick:n,children:t})},G=function(e){Object(m.a)(n,e);var t=Object(v.a)(n);function n(){var e;Object(O.a)(this,n);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={email:"",password:""},e.handleChangetext=function(t){e.setState(Object(b.a)({},t.target.id,t.target.value))},e.handleLoginSubmit=Object(E.a)(D.a.mark((function t(){var n,a,o,i,s;return D.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.state,a=n.email,o=n.password,i=e.props.history,t.next=4,e.props.loginAPI({email:a,password:o}).catch((function(e){return e}));case 4:(s=t.sent)?(console.log("login success",s),localStorage.setItem("userData",JSON.stringify(s)),e.setState({email:"",password:""}),e.props.loginTimeOut(),i.push("/dashboard")):console.log("login failed");case 6:case"end":return t.stop()}}),t)}))),e}return Object(f.a)(n,[{key:"render",value:function(){return Object(a.jsx)("div",{className:"auth-container",children:Object(a.jsxs)("div",{className:"auth-card",children:[Object(a.jsx)("p",{className:"auth-title",children:"Login Page"}),Object(a.jsx)("input",{className:"input",id:"email",placeholder:"Email",type:"text",onChange:this.handleChangetext,value:this.state.email}),Object(a.jsx)("input",{className:"input",id:"password",placeholder:"Password",type:"password",onChange:this.handleChangetext,value:this.state.password}),Object(a.jsx)(P,{onClick:this.handleLoginSubmit,title:"Login",loading:this.props.isLoading})]})})}}]),n}(o.Component),T=Object(c.b)((function(e){return{isLoading:e.isLoading}}),(function(e){return{loginAPI:function(t){return e(function(e){return function(t){return new Promise((function(n,a){t({type:"CHANGE_LOADING",value:!0}),A.auth().signInWithEmailAndPassword(e.email,e.password).then((function(e){var a={email:e.user.email,uid:e.user.uid,emailVerified:e.user.emailVerified,refreshToken:e.user.refreshToken};t({type:"CHANGE_LOADING",value:!1}),t({type:"CHANGE_ISLOGIN",value:!0}),t({type:"CHANGE_USER",value:a}),n(a)})).catch((function(e){var n=e.code,o=e.message;console.log(n,o),t({type:"CHANGE_LOADING",value:!1}),t({type:"CHANGE_ISLOGIN",value:!1}),a(!1)}))}))}}(t))},loginTimeOut:function(t){return e((function(e){console.log("sadsfdgfhgjfhad");var t=new Date,n=new Date(t);return n.setMinutes(t.getMinutes()+5),e({type:"SET_LOGINTIMEOUT",value:n.toLocaleString()})}))}}}))(G),_=(n(84),function(e){Object(m.a)(n,e);var t=Object(v.a)(n);function n(){var e;Object(O.a)(this,n);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={email:"",password:""},e.handleChangetext=function(t){e.setState(Object(b.a)({},t.target.id,t.target.value))},e.handleRegisterSubmit=Object(E.a)(D.a.mark((function t(){var n,a,o;return D.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.state,a=n.email,o=n.password,t.next=3,e.props.registerAPI({email:a,password:o}).catch((function(e){return e}));case 3:t.sent&&e.setState({email:"",password:""});case 5:case"end":return t.stop()}}),t)}))),e}return Object(f.a)(n,[{key:"render",value:function(){return Object(a.jsx)("div",{className:"auth-container",children:Object(a.jsxs)("div",{className:"auth-card",children:[Object(a.jsx)("p",{className:"auth-title",children:"Register Page"}),Object(a.jsx)("input",{className:"input",id:"email",placeholder:"Email",type:"text",onChange:this.handleChangetext,value:this.state.email}),Object(a.jsx)("input",{className:"input",id:"password",placeholder:"Password",type:"password",onChange:this.handleChangetext,value:this.state.password}),Object(a.jsx)(P,{onClick:this.handleRegisterSubmit,title:"Register",loading:this.props.isLoading})]})})}}]),n}(o.Component)),B=Object(c.b)((function(e){return{isLoading:e.isLoading}}),(function(e){return{registerAPI:function(t){return e(function(e){return function(t){return new Promise((function(n,a){t({type:"CHANGE_LOADING",value:!0}),A.auth().createUserWithEmailAndPassword(e.email,e.password).then((function(e){console.log("success",e),t({type:"CHANGE_LOADING",value:!1}),n(!0)})).catch((function(e){var n=e.code,o=e.message;console.log(n,o),t({type:"CHANGE_LOADING",value:!1}),a(!1)}))}))}}(t))}}}))(_),H=(n(85),n.p+"static/media/logoReact.6ce24c58.svg"),R=function(e){Object(m.a)(n,e);var t=Object(v.a)(n);function n(){var e;Object(O.a)(this,n);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).handlerLogin=function(){e.props.history.push("/login")},e.handlerRegister=function(){e.props.history.push("/register")},e.handlerSkip=function(){e.props.history.push("/dashboard")},e}return Object(f.a)(n,[{key:"render",value:function(){return Object(a.jsx)("div",{className:"spl-container",children:Object(a.jsxs)("div",{className:"spl-home",children:[Object(a.jsx)("img",{className:"spl-logo",src:H,alt:"logo"}),Object(a.jsx)("p",{className:"welcome-text",children:"Welcome"}),Object(a.jsx)(C.a,{onClick:this.handlerLogin,children:"LOGIN"}),Object(a.jsx)("br",{}),Object(a.jsx)(C.a,{onClick:this.handlerRegister,children:"REGISTER"}),Object(a.jsx)("hr",{}),Object(a.jsx)(C.a,{onClick:this.handlerSkip,children:"Skip"})]})})}}]),n}(o.Component);n(86);var M=function(){return Object(a.jsx)(c.a,{store:g,children:Object(a.jsx)(r.a,{basename:window.location.pathname||"",children:Object(a.jsxs)("div",{children:[Object(a.jsx)(l.a,{path:"/dashboard",exact:!0,component:L}),Object(a.jsx)(l.a,{exact:!0,path:"/",component:R}),Object(a.jsx)(l.a,{path:"/login",exact:!0,component:T}),Object(a.jsx)(l.a,{path:"/register",exact:!0,component:B})]})})})},U=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,113)).then((function(t){var n=t.getCLS,a=t.getFID,o=t.getFCP,i=t.getLCP,s=t.getTTFB;n(e),a(e),o(e),i(e),s(e)}))};s.a.render(Object(a.jsx)(M,{}),document.getElementById("root")),U()}},[[88,1,2]]]);
//# sourceMappingURL=main.9c6a5888.chunk.js.map